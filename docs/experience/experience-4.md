# 通过阴影来弱化背景

:::tip
通过一层半透明的遮罩层来把后面的一切整体调暗， 以便凸显某个特定的 UI 元素， 引导用户关注。
:::

## box-shadow 方案

[DEMO](http://dabblet.com/gist/91538b2131d3545035ca)

最合适的视口单位是 vmax。 也许你对 vmax 单位还不熟悉， 这里简单介绍一下： 1vmax 相当于 1vw 和 1vh 两者中的较大值。 100vw 等于整个视口的宽度， 100vh 就是视口的高度。 因此， 满足我们需求的最小值就是 50vmax。 由于投影是同时向四个方向扩展的， 这个遮罩层的最终尺寸将是 100vmax 加上元素本身的尺寸。

```css
position: fixed;
top: 50%;
left: 50%;
margin: -200px;
box-shadow: 0 0 0 50vmax rgba(0, 0, 0, 0.8);
```

:::warning

- 由于遮罩层的尺寸是与视口相关， 而不是与页面相关的， 当我们滚动页面时， 遮罩层的边缘就露出来了， 除非给它加上 position: fixed

- 当使用一个独立的元素（或伪元素） 来实现遮罩层时， 这个遮罩层不仅可以从视觉上把用户的注意力引导到关键元素上， 还可以防止用户的鼠标与页面的其他部分发生交互， 因为遮罩层会捕获所有指针事件。 boxshadow 并没有这种能力， 因此它只能在视觉上起到引导注意力的作用， 却无法阻止鼠标交互。

:::

## backdrop 方案

[DEMO](http://dabblet.com/gist/bb2121aea259be94c35d)

如果元素是一个 `<dialog>` 元素，可以使用 `::backdrop` 伪元素实现，这个原生的遮罩层也是可以设置样式的。

```css
dialog::backdrop {
  background: rgba(0, 0, 0, 0.8);
}
```
